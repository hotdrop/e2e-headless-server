# AssertText アクション

## 概要
指定されたセレクタに一致する要素の内部テキストに、期待されるテキストが含まれているかどうかを検証（アサート）します。

## 詳細
- このアクションは、まず指定された`selector`で要素を特定します。要素が見つからない場合、`AssertionError` が発生します。
- `text`パラメータは必須であり、指定しない場合は`ValueError`が発生します。
- 要素が見つかった場合、Playwrightの`locator.inner_text()`メソッドを使用して要素の内部テキストを取得し、そのテキストに`text`パラメータで指定された文字列が含まれているか（部分一致）を確認します。
- 期待されるテキストが含まれていない場合、`AssertionError`が発生し、期待したテキストと実際のテキストがエラーメッセージに表示されます。
- `selector` が辞書型で`by: "role"`を指定する場合、`type`パラメータは必須です。このアクションでは `type`のデフォルト値は設定されません。

## パラメータ
このアクションで使用できるパラメータは以下の通りです。

| Key       | 型              | 必/任 | 説明              |
|-----------|-----------------|------|------------------|
| `action`  | string          | 必須  | "assertText" |
| `selector`| string / object | 必須  | 操作対象の要素。セレクタ参照のこと |
| `text`    | string          | 必須  | 要素の内部テキストに含まれていることを期待する文字列。部分一致で検証されます。 |

## セレクタ
`./selector_design.md`を参照のこと

## JSONサンプル
特定の要素に期待するテキストが含まれていることを検証する
```json
{
  "action": "assertText",
  "selector": "h1.page-title",
  "text": "マイページ"
}
```

特定のロールを持つ要素に期待するテキストが含まれていることを検証する (辞書型セレクタ)
```json
{
  "action": "assertText",
  "selector": {
    "by": "role",
    "type": "alert",
    "name": "エラー情報"
  },
  "text": "入力内容に誤りがあります"
}
```

IDで指定した要素内のテキストを検証
```json
{
  "action": "assertText",
  "selector": "#system-message",
  "text": "保存しました"
}
```
